<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>اتحاد طب بشري كفر الشيخ — البداية</title>

<!-- ===== Theme v3 (No-Blue Palette • Emerald + Amber) ===== -->
<style>
:root{
  /* لوحة داكنة خالية تمامًا من الأزرق */
  --bg1:#0e0f11; --bg2:#121316;                 /* خلفية جراديانت رمادي فحمي */
  --card:rgba(255,255,255,.05);                 /* زجاجي خفيف */
  --txt:#f2f3f4; --mut:#a9adb3;                 /* نصوص */
  --bor:rgba(255,255,255,.10);                  /* حدود رفيعة */
  --ring:rgba(16,185,129,.35);                  /* حلقة فوكس خضراء */
  --acc1:#10b981; --acc2:#f59e0b;               /* Emerald + Amber */
  --shadow:0 10px 30px rgba(0,0,0,.22), inset 0 1px 0 rgba(255,255,255,.04);

  --radius-xl:18px; --radius-lg:14px; --radius-md:12px;
  --pad:14px; --gap:10px; --blur:10px;
}
:root.light{
  /* وضع فاتح بلا أزرق */
  --bg1:#fbfbfb; --bg2:#ffffff;
  --card:rgba(255,255,255,.92);
  --txt:#171717; --mut:#5b6066;
  --bor:rgba(0,0,0,.08);
  --ring:rgba(245,158,11,.35);
  --acc1:#16a34a; --acc2:#ea580c;               /* أخضر أغمق + برتقالي */
  --shadow:0 10px 30px rgba(0,0,0,.08), inset 0 1px 0 rgba(255,255,255,.9);
}

/* أساسيات */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:15.5px/1.75 ui-rounded, system-ui, Segoe UI, Arial;
  color:var(--txt);
  background:linear-gradient(160deg,var(--bg1),var(--bg2)) fixed;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* شريط علوي */
.topbar{
  position:sticky; top:0; z-index:20;
  display:flex; justify-content:space-between; align-items:center;
  padding:12px 16px;
  background:linear-gradient(160deg,rgba(0,0,0,.28),rgba(0,0,0,.12));
  backdrop-filter:blur(var(--blur));
  border-bottom:1px solid var(--bor);
}
.brand{font-weight:800; letter-spacing:.2px}
.badge{
  border:1px solid var(--bor); border-radius:999px; padding:4px 10px;
  background:rgba(255,255,255,.06); color:var(--mut); font-size:12px;
}

/* الحاوية */
.container{max-width:960px;margin:0 auto;padding:16px}
.view.hidden{display:none}

/* كروت زجاجية */
.card{
  background:var(--card); border:1px solid var(--bor); border-radius:var(--radius-xl);
  padding:var(--pad); box-shadow:var(--shadow); backdrop-filter:blur(var(--blur));
  transition:transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover{transform:translateY(-1px)}

/* شبكة متجاوبة */
.grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--gap)}
@media(max-width:760px){.grid{grid-template-columns:1fr}}

/* عناصر الإدخال */
textarea,input,select,button{
  border:1px solid var(--bor); border-radius:var(--radius-md);
  background:rgba(0,0,0,.18); color:var(--txt);
  padding:10px 12px; outline:none; transition:border-color .15s, box-shadow .15s, background .2s;
}
textarea{min-height:100px; resize:vertical}
input:focus, textarea:focus, select:focus{
  border-color:color-mix(in srgb, var(--acc1) 45%, #000);
  box-shadow:0 0 0 4px var(--ring);
}

/* أزرار */
button{
  cursor:pointer; border-radius:var(--radius-lg); font-weight:600;
  background:linear-gradient(135deg,
            color-mix(in srgb, var(--acc1) 55%, transparent),
            color-mix(in srgb, var(--acc2) 45%, transparent));
  color:#fff; border:1px solid var(--bor); padding:10px 14px;
  box-shadow:0 6px 20px rgba(0,0,0,.18);
}
button:hover{filter:brightness(1.04)}
button:active{transform:translateY(1px)}
button.ghost{
  background:rgba(255,255,255,.04); color:var(--txt);
}

/* نصوص مساعدة */
.muted{color:var(--mut);font-size:12.5px}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}

/* لستات وبوست */
.list{display:grid;gap:10px}
.post{
  border:1px solid var(--bor); border-radius:var(--radius-lg); padding:12px;
  background:rgba(0,0,0,.18);
}

/* شريط سفلي */
.bottom{
  position:sticky; bottom:0; z-index:15;
  display:flex; justify-content:space-around; gap:10px;
  padding:12px; background:linear-gradient(0deg,rgba(0,0,0,.28),rgba(0,0,0,.12));
  border-top:1px solid var(--bor); backdrop-filter:blur(var(--blur));
}
.bottom button{flex:1; text-align:center}
.bottom .active{
  outline:0; box-shadow:0 0 0 3px var(--ring) inset;
}

/* عناصر صغيرة */
.kbd{background:rgba(255,255,255,.06);border:1px solid var(--bor);
  border-radius:8px;padding:2px 6px;font-size:12px;color:var(--mut)}
.separator{height:1px;background:var(--bor);margin:10px 0;border-radius:999px}

/* توجّه أسطر العناوين */
h1,h2,h3{margin:.2rem 0 .6rem}
h2{font-size:1.35rem}
</style>
</head>
<body>

<header class="topbar">
  <div class="brand">اتحاد طب بشري كفر الشيخ</div>
  <div class="badge">✓ Step 1</div>
</header>

<main class="container">
  <section id="view-home">
    <div class="card">
      <div style="display:flex;align-items:center;gap:14px">
        <div style="font-size:40px">🧱</div>
        <div>
          <h2 style="margin:0 0 6px">جاهزين</h2>
          <p style="margin:0">
            دي نسخة البداية علشان نتأكد إن <b>GitHub Pages</b> شغّال. بعد كده هنضيف:
            تسجيل الدخول، البوستات، البروفايل، QR… إلخ.
          </p>
          <div class="separator"></div>
          <p class="muted" style="margin:0">
            لو الصفحة دي ظهرت من الرابط العام، يبقى تمام ونروح للخطوة 2 (Firebase).
          </p>
        </div>
      </div>
    </div>

    <!-- تفاصيل دقيقة إضافية للتجربة -->
    <div class="card">
      <div class="grid">
        <div>
          <label class="muted">حجم النص</label>
          <select id="fontSizeSel">
            <option value="15.5">افتراضي</option>
            <option value="16">كبير</option>
            <option value="17">أكبر</option>
          </select>
        </div>
        <div>
          <label class="muted">الوضع</label><br/>
          <button id="themeToggle" class="ghost">تبديل ليلي/نهاري</button>
        </div>
      </div>
      <p class="muted" style="margin:.6rem 0 0">
        * الاختيارات تتخزّن محليًا — هنكمّل بربط الحسابات والبيانات في الخطوة الجاية.
      </p>
    </div>
  </section>
</main>

<nav class="bottom">
  <button class="active">🏠 عام</button>
  <button>👤 بروفايل</button>
  <button>⚙️ إعدادات</button>
</nav>

<script>
/* لا أزرق: الثيم فاتح/داكن بحفظ محلي */
(function initTheme(){
  const t = localStorage.getItem('theme');
  if(t==='light') document.documentElement.classList.add('light');
})();
document.getElementById('themeToggle').onclick = ()=>{
  const root = document.documentElement;
  const isLight = root.classList.toggle('light');
  localStorage.setItem('theme', isLight ? 'light' : 'dark');
};

/* تحكم دقيق في حجم الخط للمستخدم */
const sel = document.getElementById('fontSizeSel');
const savedFs = localStorage.getItem('fs');
if(savedFs){ document.body.style.fontSize = savedFs+'px'; sel.value = savedFs; }
sel.onchange = ()=>{
  document.body.style.fontSize = sel.value+'px';
  localStorage.setItem('fs', sel.value);
};

/* تفعيل/تعطيل حالة الأزرار السفلية (تجميليًا) */
document.querySelectorAll('.bottom button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.bottom button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  });
});
</script>
<!-- Firebase (ESM via CDN) -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDfiO-4J0DIHSKZo_vdBXeS343eJ0x4pYo",
    authDomain: "ittihad-med-kfs.firebaseapp.com",
    projectId: "ittihad-med-kfs",
    // storageBucket: "ittihad-med-kfs.appspot.com", // اختياري الآن
    messagingSenderId: "323302922960",
    appId: "1:323302922960:web:3343605d75d2a5147cdcd5",
    measurementId: "G-EKC4FVZH6T"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db   = getFirestore(app);

  // اختبار سريع للاتصال بفايرستور
  try {
    await setDoc(doc(db, "ping", "hello"), { time: new Date().toISOString(), page: location.href });
    console.log("Firestore write OK");
    const badge = document.getElementById('statusBadge');
    if (badge) badge.textContent = "✓ Firebase linked";
  } catch (e) {
    console.error("Firestore error:", e);
  }
</script>
</body>
</html>
